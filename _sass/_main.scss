/************************************************

Stylesheet: Main Stylesheet

*************************************************/





// TYPOGRAPHY
// -------------------------------------------------------------------------------------------------------------------


h1, h2, h3, h4, h5, h6 {margin-bottom: $header-margin-bottom;}

h2 {font-weight: 500;}

li {margin-bottom: $list-margin-bottom;}


// Button
// ------

.button {min-width: rem-calc(132);}


// Bgs
// ------

.bg-grey {background-color: $lighter-gray;}



// Lead Text
// ------

.lead {font-size: $lead-font-size;}



// Centered Text
// ------

.text-center {text-align: center;}



// Blockquote
// ------

blockquote {
    p {margin-bottom: 0;}
    cite {}
}



// Horizontal List
// ------

.horizontal-list {@include horizontal_list();}



// Down Arrow
// ------

.cta-down:after {@include icon_font($char: $icon-arrow-down); display: inline-block; margin: .5rem auto; font-size: rem-calc(20);} 


// Anchor Links
// ------

a[title="View on Github"] {
    &:before {@include icon_font($char: $icon-github); font-size: rem-calc(24); margin-right: .6rem; vertical-align: middle;}
    &:after {display: none !important;}
}





// IMAGES, VIDEOS & GALLERIES
// -------------------------------------------------------------------------------------------------------------------


.img {position: relative; display: block; background: transparent no-repeat center/cover;}





// FORM STYLES
// -------------------------------------------------------------------------------------------------------------------


// input[type=checkbox] {display: none;

//     + label {position: relative; margin: 0; clear: none; cursor: pointer; line-height: rem-calc(24);
//         &:before {content: ""; display: inline-block; width: rem-calc(24); height: rem-calc(24); border: #{rem-calc(4) solid $white}; margin-right: 1em; background-color: $white; vertical-align: top;}
//     }
//     &:checked + label:before {background-color: $black;}
// }

.newsletter_errors {display: none;}
.newsletter_thanks {display: none;}

.form_group-agree {display: flex; flex-flow: row nowrap; align-items: flex-start;
    input[type=checkbox] {flex: 0 0 auto; margin: rem-calc(3 3 0 0);}
    label {flex: 1 1 auto; color: $white; font-size: $small-font-size;
        a {text-decoration: underline;}
    }
}






// FRAMEWORK
// -------------------------------------------------------------------------------------------------------------------


// Sticky Footer
// ------

html {height: 100%;}
.site {display: flex; flex-direction: column; height: 100%;}
.site-header,
.site-footer {flex: none;}
.site-content {flex: 1 0 auto; width: 100%;}



// Header
// ------

.site-header {position: absolute; z-index: 10; left: 0; top: 0; width: 100%; padding: rem-calc(12 0);
    .cell {display: flex; flex-flow: row nowrap; justify-content: space-between;}
}



// Logo
// ------

.logo {position: relative; margin: 0; font-size: rem-calc(20); line-height: 1; 
    a {position: relative; display: block; padding: rem-calc(15 0 14 58); color: $body-font-color;
        &:before {content: ""; position: absolute; left:0; top:0; display: block; width: rem-calc(48); height: rem-calc(49); background: transparent url(img/firefox-logo.png) no-repeat center/contain;}
    }
}



// Top Navigation
// ------

.site-nav {padding: rem-calc(9 0 8);}

.page-nav-container {position: absolute; z-index: 10; top: calc(100% - #{rem-calc(50)}); left: 0; width: 100%;
    .page-nav {position: absolute; left: 0; top: 0; width: 100%;}

    nav {display: flex; flex-flow: row nowrap; justify-content: space-between; width: 100%; background-color: $white; box-shadow: #{rem-calc(0 4 16)} rgba(12,12,13,0.1); border-radius: $global-radius; padding: rem-calc(10); margin: rem-calc(24 0); overflow: hidden;

        > div {display: flex; flex-flow: row nowrap; justify-content: space-between; align-items: center; 
            &.group-a {flex: 1 1 auto; 
                a {padding: rem-calc(5 20); color: $body-font-color; margin: 0; transition: font-size .3s ease-in-out;}
            }
            &.group-b {flex: 0 0 #{rem-calc(165)}; width: rem-calc(165); display: flex; flex-flow: row nowrap; justify-content: flex-end; overflow: hidden; opacity: 0; margin-right: rem-calc(-165); transition: opacity .3s ease-in-out, margin .3s ease-in-out; 
                a.button {margin: rem-calc(0 0 0 24);}
            }
        }
    }

    &.sticky .page-nav {position: fixed; top: 0;
        nav {
            > div {
                &.group-a {
                    a {font-size: rem-calc(13);}
                }
                &.group-b {opacity: 1; margin-right: 0;}
            }
        }
    }
}



// Body
// ------

.site-content {}



// Footer
// ------

.site-footer {}





// COMPONENT STYLES
// -------------------------------------------------------------------------------------------------------------------


// Transition Elements
// ------

.showOnView {opacity: 0; box-shadow: 0 0 1px rgba(0, 0, 0, 0);} // box shadow hack to remove redraw pixels



// Panel
// -------

.panel {position: relative; padding-top: rem-calc(20); padding-bottom: rem-calc(20); 
    @include breakpoint(medium) {padding-top: rem-calc(60); padding-bottom: rem-calc(60);}
}



// Into Banner
// ------

.banner.intro {position: relative; background: $lighter-gray no-repeat center/cover; height: calc(100vh - #{rem-calc(50)}); max-height: 75vw; min-height: rem-calc(300);
    
    .banner-content {height: 100%;
        .cell {
            > * {max-width: rem-calc(400); margin-left: auto; margin-right: auto;}
            > h1 {max-width: rem-calc(280);}
        }
    }

    + section .section-intro {padding-top: rem-calc(80);
        @include breakpoint (medium) {padding-top: rem-calc(110);}
        @include breakpoint (large) {padding-top: rem-calc(150);}
    }

}



// Section Intro
// ------

.section-intro {padding-top: rem-calc(30); padding-bottom: rem-calc(20); background-color: #f8e71c;
    @include breakpoint (medium) {padding-top: rem-calc(60); padding-bottom: rem-calc(30);}
    @include breakpoint (large) {padding-top: rem-calc(100); padding-bottom: rem-calc(40);}

    &.extra-space {padding-bottom: rem-calc(30);
        @include breakpoint (medium) {padding-bottom: rem-calc(45);}
        @include breakpoint (large) {padding-bottom: rem-calc(90);}
    }

    + .section-tiles {padding-bottom: 1px;
        .tiles-container {position: relative; padding-bottom: 1px; margin-bottom: calc(5.6652083333333vw * 2.5); background-color: #f8e71c;
            .grid-container {margin-bottom: calc(-5.6652083333333vw * 2.5);}

            &:after {content: ""; display: block; position: absolute; left: 0; bottom: -5.6652083333333vw; height: 6.081875vw; width: 100vw; background: transparent no-repeat center/cover; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 58.39'%3E%3Cdefs%3E%3Cstyle%3E.bg-1%7Bfill:%23f8e71c;%7D%3C/style%3E%3C/defs%3E%3Cpath class='bg-1' d='M0,494.21c108.92,32.92,283.14,54.24,479.5,54.24,197,0,371.65-21.45,480.5-54.55v-3.84H0Z' transform='translate(0 -490.06)'/%3E%3C/svg%3E");}
            + * {position: relative;}
        }
    }

    &.bg-dark {background-color: $primary-color; color: $white; 
        > .grid-container > .cell > p > a, 
        .tiles-outside a {color: $white;
            &:last-child {
                &:after {display: inline-block; margin-left: .3em; font-size: .8em; transition: margin .2s ease-in-out;
                    @include icon_font($char: $icon-arrow-right);
                }
                &:hover:after {margin-left: .4em; margin-right: -.1em;}
            }
        }
    
        + .section-tiles {
            .tiles-outside:first-child {background-color: $primary-color; color: $white;}
            .tiles-container {background-color: $primary-color; color: $white;
                &:after {background: transparent no-repeat center/cover; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 58.39'%3E%3Cdefs%3E%3Cstyle%3E.bg-1%7Bfill:%230060df;%7D%3C/style%3E%3C/defs%3E%3Cpath class='bg-1' d='M0,494.21c108.92,32.92,283.14,54.24,479.5,54.24,197,0,371.65-21.45,480.5-54.55v-3.84H0Z' transform='translate(0 -490.06)'/%3E%3C/svg%3E");}
            }
        }
    }

    &.bg-alt1 {background-color: #6200a4;

        + .section-tiles {
            .tiles-outside:first-child {background-color: #6200a4;}
            .tiles-container {background-color: #6200a4;
                &:after {background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 58.39'%3E%3Cdefs%3E%3Cstyle%3E.bg-1%7Bfill:%236200a4;%7D%3C/style%3E%3C/defs%3E%3Cpath class='bg-1' d='M0,494.21c108.92,32.92,283.14,54.24,479.5,54.24,197,0,371.65-21.45,480.5-54.55v-3.84H0Z' transform='translate(0 -490.06)'/%3E%3C/svg%3E");}
            }
        }
    }

    &.bg-alt2 {background-color: #ff9400;

        + .section-tiles {
            .tiles-outside:first-child {background-color: #ff9400;}
            .tiles-container {background-color: #ff9400;
                &:after {background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 58.39'%3E%3Cdefs%3E%3Cstyle%3E.bg-1%7Bfill:%23ff9400;%7D%3C/style%3E%3C/defs%3E%3Cpath class='bg-1' d='M0,494.21c108.92,32.92,283.14,54.24,479.5,54.24,197,0,371.65-21.45,480.5-54.55v-3.84H0Z' transform='translate(0 -490.06)'/%3E%3C/svg%3E");}
            }
        }
    }
}



// Section More
// ------

.section-more {padding-top: rem-calc(30); padding-bottom: rem-calc(20);
    @include breakpoint (medium) {padding-top: rem-calc(60); padding-bottom: rem-calc(30);}
    @include breakpoint (large) {padding-top: rem-calc(100); padding-bottom: rem-calc(40);}

    &.extra-space {padding-bottom: rem-calc(30);
        @include breakpoint (medium) {padding-bottom: rem-calc(60);}
        @include breakpoint (large) {padding-bottom: rem-calc(100);}
    }
}



// Tiles
// ------

.cell.tile {position: relative; z-index: 3; padding: rem-calc(20 30) !important; margin: rem-calc(10 0); color: $body-font-color;
    &:before {content:""; display: block; position: absolute; left: rem-calc(10); width: calc(100% - #{rem-calc(20)}); top: 0; height: 100%; background-color: $white; border-radius: $global-radius; box-shadow: #{rem-calc(0 4 16)} rgba(12,12,13,0.1);}
    
    > * {position: relative; z-index: 2;}

    img {display: block; max-height: rem-calc(108); margin: 0 auto;}

    @include breakpoint(medium) {padding: rem-calc(24 34 30) !important; margin: rem-calc(12 0); display: flex; flex-flow: column nowrap; justify-content: stretch;
        &:before {left: rem-calc(12); width: calc(100% - #{rem-calc(24)});}

        > * {flex: 0 0 auto; width: 100%;
            &:last-child {flex: 1 1 auto; display: flex; flex-flow: column; justify-content: flex-end; margin-bottom: 0;}
        }

        &.medium-6 {
            > * {max-width: 70%;
                &:first-child {position: absolute; top: rem-calc(24); right: rem-calc(34); max-width: 20%;}
            }
        }
    }
}

.tile-compact {position: relative; z-index: 3; padding: rem-calc(20 30) !important; margin: rem-calc(10 0); color: $body-font-color;
    &:before {content:""; display: block; position: absolute; left: rem-calc(10); width: calc(100% - #{rem-calc(20)}); top: 0; height: 100%; background-color: $white; border-radius: $global-radius; box-shadow: #{rem-calc(0 4 16)} rgba(12,12,13,0.1); transition: box-shadow .2s ease-in-out;}
    
    > * {position: relative; z-index: 2;
        &:last-child {margin-bottom: 0;}
    }

    &:not(.tile-block-link) > * {max-width: calc(100% - #{rem-calc(50)}); margin-right: 0; margin-left: auto;
        &:first-child {position: absolute; top: rem-calc(24); left: rem-calc(34); width: rem-calc(32);
            img {width: rem-calc(32);}
        }
    }

    @include breakpoint(medium) {padding: rem-calc(24 34 30) !important; margin: rem-calc(12 0);
        &:before {left: rem-calc(12); width: calc(100% - #{rem-calc(24)});}
    }

    &.tile-block-link {padding: 0 !important;
        .block-link {padding: rem-calc(20 30);
            > * {max-width: calc(100% - #{rem-calc(50)}); margin-right: 0; margin-left: auto;
                &:first-child {position: absolute; top: rem-calc(24); left: rem-calc(34); width: rem-calc(32);
                    img {width: rem-calc(32);}
                }
                &:last-child {margin-bottom: 0;}
            }
            a {position: absolute; z-index: 9; display: block; left: 0; top: 0; bottom: 0; right: 0; max-width: 100%; font-size: 0; opacity: 0;}
        }
        @include breakpoint(medium) {padding: 0 !important;
            .block-link {padding: rem-calc(24 34 30);}
        }

        &:hover {
            &:before {box-shadow: #{rem-calc(0 4 20)} rgba(12,12,13,0.2);}
        }
    }
}

.tile-borderless {position: relative; z-index: 3; padding: rem-calc(20 30) !important; margin: rem-calc(10 0); color: $body-font-color; text-align: center;

    img {display: block; max-height: rem-calc(108); margin: 0 auto;}

    @include breakpoint(medium) {padding: rem-calc(24 34 30) !important; margin: rem-calc(12 0); display: flex; flex-flow: column nowrap; justify-content: stretch;
        > * {flex: 0 0 auto; width: 100%;
            &:last-child {flex: 1 1 auto; display: flex; flex-flow: column; justify-content: flex-end; margin-bottom: 0;}
        }

        &.medium-6 {
            img {max-height: rem-calc(134);}
        }
    }
    > * {position: relative; z-index: 2;}
}

.tile-extended {
    > p a {@include button(); font-size: 0.733333333333333rem; padding: rem-calc(6 8);}
    .secondary-actions {font-size: $small-font-size;}
}

.tiles-outside {padding-top: rem-calc(20); padding-bottom: rem-calc(20); 
    @include breakpoint(medium) {padding-top: rem-calc(24); padding-bottom: rem-calc(24);}
}



// Section cta
// ------

.section-cta {padding-top: rem-calc(30); padding-bottom: rem-calc(30); 
    @include breakpoint(medium) {padding-top: rem-calc(45); padding-bottom: rem-calc(45);}

    .cell > *:last-child {margin-bottom: 0;}

    a:last-child {
        &:after {display: inline-block; margin-left: .3em; font-size: .8em; transition: margin .2s ease-in-out;
            @include icon_font($char: $icon-arrow-right);
        }
        &:hover:after {margin-left: .4em; margin-right: -.1em;}
    }

    &.bg-dark {color: $white; 
        a {color: $white;}
    }
}



// Video Box
// ------

.video-box {position: relative; height: 0; padding-bottom: 56.25%; margin: rem-calc(20 0 10); box-shadow: #{rem-calc(0 4 16)} rgba(12,12,13,0.1); border-radius: $global-radius; overflow: hidden;
    .video-cta {position: absolute; z-index: 2; left: 0; top: 0; width: 70%; height: 100%; padding: 10%; display: flex; flex-flow: column nowrap; justify-content: center;}
    .video-play {display: block; width: rem-calc(48); height: rem-calc(48); margin: 1em 0; text-align: center; line-height: rem-calc(48); font-size: rem-calc(26); color: $primary-color; background-color: $white; border-radius: 50%; box-shadow: #{rem-calc(0 2 8)} rgba(12,12,13,0.1); cursor: pointer; transition: transform .2s ease-in-out;
        &:before {@include icon_font($char: $icon-play);}
        &:hover {transform: scale(1.1);}
    }

    @include breakpoint(medium) {margin: rem-calc(24 0 12);}
}



// Inline resource list
// ------

.resources-inline-list {
    p {display: flex; flex-flow: row wrap; justify-content: space-between;

    }
}



// Social Panel
// ------

.social {background-color: #363959; color: $white; font-size: $small-font-size;
    h4 {margin-top: rem-calc(10);}
    p {color: #b1b1b3;}
    a {color: $white;
        &.twitter:before {@include icon_font($char: $icon-twitter); font-size: rem-calc(24); vertical-align: middle; margin-right: .3em;}
        &.telegram:before {@include icon_font($char: $icon-telegram); font-size: rem-calc(24); vertical-align: middle; margin-right: .3em;}
        &.irc:before {@include icon_font($char: $icon-irc); font-size: rem-calc(24); vertical-align: middle; margin-right: .3em;}
        &.mailinglist:before {@include icon_font($char: $icon-mail); font-size: rem-calc(24); vertical-align: middle; margin-right: .3em;}
    }
    input[type=text], input[type=email] {background-color: rgba(#b1b1b3,.2); border: 0;
        &::placeholder {color: #b1b1b3;}
    }
    .button {background-color: $white; color: $primary-color; margin-top: rem-calc(16);
        &:hover {color: $primary-color-hover;}
    }
}

